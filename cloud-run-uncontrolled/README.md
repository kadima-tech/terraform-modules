## Requirements

| Name                                                                           | Version   |
| ------------------------------------------------------------------------------ | --------- |
| <a name="requirement_terraform"></a> [terraform](#requirement_terraform)       | >= 0.14   |
| <a name="requirement_terraform"></a> [terraform](#requirement_terraform)       | >= 0.14   |
| <a name="requirement_google"></a> [google](#requirement_google)                | >= 3.67.0 |
| <a name="requirement_google-beta"></a> [google-beta](#requirement_google-beta) | >= 3.67.0 |

## Providers

| Name                                                                     | Version   |
| ------------------------------------------------------------------------ | --------- |
| <a name="provider_google"></a> [google](#provider_google)                | >= 3.67.0 |
| <a name="provider_google-beta"></a> [google-beta](#provider_google-beta) | >= 3.67.0 |

## Modules

No modules.

## Resources

| Name                                                                                                                                                                                | Type     |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| [google-beta_google_cloud_run_service.default](https://registry.terraform.io/providers/hashicorp/google-beta/latest/docs/resources/google_cloud_run_service)                        | resource |
| [google_cloud_run_domain_mapping.domains](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/cloud_run_domain_mapping)                                  | resource |
| [google_cloud_run_service_iam_member.public_access](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/cloud_run_service_iam_member)                    | resource |
| [google_compute_backend_service.load-balancer-backend](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_backend_service)                      | resource |
| [google_compute_region_network_endpoint_group.serverless-neg](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_region_network_endpoint_group) | resource |
| [google_service_account.no_permissions](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/service_account)                                             | resource |

## Inputs

| Name                                                                                                               | Description                                                                                                                                | Type                                                                                                                                                     | Default                                                     | Required |
| ------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- | :------: |
| <a name="input_allow_unauthenticed_access"></a> [allow_unauthenticed_access](#input_allow_unauthenticed_access)    | Allow unauthenticated access to the service.                                                                                               | `bool`                                                                                                                                                   | `false`                                                     |    no    |
| <a name="input_args"></a> [args](#input_args)                                                                      | Arguments to pass to the entrypoint.                                                                                                       | `list(string)`                                                                                                                                           | `[]`                                                        |    no    |
| <a name="input_cloudsql_connections"></a> [cloudsql_connections](#input_cloudsql_connections)                      | Cloud SQL connections to attach to container instances.                                                                                    | `set(string)`                                                                                                                                            | `[]`                                                        |    no    |
| <a name="input_concurrency"></a> [concurrency](#input_concurrency)                                                 | Maximum allowed concurrent requests per container for this revision.                                                                       | `number`                                                                                                                                                 | `null`                                                      |    no    |
| <a name="input_cpu_throttling"></a> [cpu_throttling](#input_cpu_throttling)                                        | Specify whether CPU is only allocated during request processing                                                                            | `bool`                                                                                                                                                   | `null`                                                      |    no    |
| <a name="input_cpus"></a> [cpus](#input_cpus)                                                                      | Number of CPUs to allocate per container.                                                                                                  | `number`                                                                                                                                                 | `1`                                                         |    no    |
| <a name="input_entrypoint"></a> [entrypoint](#input_entrypoint)                                                    | Entrypoint command. Defaults to the image's ENTRYPOINT if not provided.                                                                    | `list(string)`                                                                                                                                           | `[]`                                                        |    no    |
| <a name="input_env"></a> [env](#input_env)                                                                         | Environment variables to inject into container instances.                                                                                  | <pre>set(<br> object({<br> key = string,<br> value = optional(string),<br> secret = optional(string),<br> version = optional(string),<br> })<br> )</pre> | `[]`                                                        |    no    |
| <a name="input_image"></a> [image](#input_image)                                                                   | Docker image name.                                                                                                                         | `string`                                                                                                                                                 | `"us-docker.pkg.dev/cloudrun/container/hello"`              |    no    |
| <a name="input_ingress"></a> [ingress](#input_ingress)                                                             | Ingress settings for the service. Allowed values: [`"all"`, `"internal"`, `"internal-and-cloud-load-balancing"`]                           | `string`                                                                                                                                                 | `"internal-and-cloud-load-balancing"`                       |    no    |
| <a name="input_labels"></a> [labels](#input_labels)                                                                | Labels to apply to the service.                                                                                                            | `map(string)`                                                                                                                                            | `{}`                                                        |    no    |
| <a name="input_loadbalancer_backend_create"></a> [loadbalancer_backend_create](#input_loadbalancer_backend_create) | Should this also create a serverless load balancer backend so you can attach this server to a url map?                                     | `bool`                                                                                                                                                   | `false`                                                     |    no    |
| <a name="input_location"></a> [location](#input_location)                                                          | Location of the service.                                                                                                                   | `string`                                                                                                                                                 | `"europe-west1"`                                            |    no    |
| <a name="input_map_domains"></a> [map_domains](#input_map_domains)                                                 | Domain names to map to the service.                                                                                                        | `set(string)`                                                                                                                                            | `[]`                                                        |    no    |
| <a name="input_max_instances"></a> [max_instances](#input_max_instances)                                           | Maximum number of container instances allowed to start.                                                                                    | `number`                                                                                                                                                 | `3`                                                         |    no    |
| <a name="input_memory"></a> [memory](#input_memory)                                                                | Memory (in Mi) to allocate to containers.                                                                                                  | `number`                                                                                                                                                 | `256`                                                       |    no    |
| <a name="input_min_instances"></a> [min_instances](#input_min_instances)                                           | Minimum number of container instances to keep running.                                                                                     | `number`                                                                                                                                                 | `1`                                                         |    no    |
| <a name="input_name"></a> [name](#input_name)                                                                      | Name of the service.                                                                                                                       | `string`                                                                                                                                                 | n/a                                                         |   yes    |
| <a name="input_port"></a> [port](#input_port)                                                                      | Port on which the container is listening for incoming HTTP requests.                                                                       | `number`                                                                                                                                                 | `8080`                                                      |    no    |
| <a name="input_project"></a> [project](#input_project)                                                             | Google Cloud project in which to create resources.                                                                                         | `string`                                                                                                                                                 | `null`                                                      |    no    |
| <a name="input_revision"></a> [revision](#input_revision)                                                          | Revision name to use. When `null`, revision names are automatically generated.                                                             | `string`                                                                                                                                                 | `null`                                                      |    no    |
| <a name="input_security_policy"></a> [security_policy](#input_security_policy)                                     | The cloud armour security policy to apply                                                                                                  | `string`                                                                                                                                                 | `null`                                                      |    no    |
| <a name="input_service_account_email"></a> [service_account_email](#input_service_account_email)                   | IAM service account email to assign to container instances.                                                                                | `string`                                                                                                                                                 | `null`                                                      |    no    |
| <a name="input_timeout"></a> [timeout](#input_timeout)                                                             | Maximum duration (in seconds) allowed for responding to requests.                                                                          | `number`                                                                                                                                                 | `60`                                                        |    no    |
| <a name="input_volumes"></a> [volumes](#input_volumes)                                                             | Volumes to be mounted & populated from secrets.                                                                                            | `set(object({ path = string, secret = string, versions = optional(map(string)) }))`                                                                      | `[]`                                                        |    no    |
| <a name="input_vpc_access"></a> [vpc_access](#input_vpc_access)                                                    | Control VPC access for the service.                                                                                                        | `object({ connector = optional(string), egress = optional(string) })`                                                                                    | <pre>{<br> "connector": null,<br> "egress": null<br>}</pre> |    no    |
| <a name="input_vpc_access_egress"></a> [vpc_access_egress](#input_vpc_access_egress)                               | Specify whether to divert all outbound traffic through the VPC, or private ranges only (Deprecated - use `var.vpc_access.egress` instead). | `string`                                                                                                                                                 | `"private-ranges-only"`                                     |    no    |
| <a name="input_vpc_connector_name"></a> [vpc_connector_name](#input_vpc_connector_name)                            | VPC connector to apply to this service (Deprecated - use `var.vpc_access.connector` instead).                                              | `string`                                                                                                                                                 | `null`                                                      |    no    |

## Outputs

| Name                                                                                                                    | Description                                                                                              |
| ----------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| <a name="output_allow_unauthenticed_access"></a> [allow_unauthenticed_access](#output_allow_unauthenticed_access)       | Allow unauthenticated access to the service.                                                             |
| <a name="output_args"></a> [args](#output_args)                                                                         | Arguments passed to the entrypoint.                                                                      |
| <a name="output_cloudsql_connections"></a> [cloudsql_connections](#output_cloudsql_connections)                         | Cloud SQL connections attached to container instances.                                                   |
| <a name="output_concurrency"></a> [concurrency](#output_concurrency)                                                    | Maximum allowed concurrent requests per container for the created revision.                              |
| <a name="output_cpus"></a> [cpus](#output_cpus)                                                                         | Number of CPUs allocated per container.                                                                  |
| <a name="output_cpus_suffixed"></a> [cpus_suffixed](#output_cpus_suffixed)                                              | CPUs allocated per container, specified with the millicpu suffix (eg: "1000m" if `var.cpus` is 1).       |
| <a name="output_dns"></a> [dns](#output_dns)                                                                            | DNS records to populate for mapped domains. Keys are the domains that are mapped.                        |
| <a name="output_entrypoint"></a> [entrypoint](#output_entrypoint)                                                       | Entrypoint command used in the service.                                                                  |
| <a name="output_env"></a> [env](#output_env)                                                                            | Environment variables injected into container instances.                                                 |
| <a name="output_id"></a> [id](#output_id)                                                                               | ID of the created service.                                                                               |
| <a name="output_image"></a> [image](#output_image)                                                                      | Docker image name.                                                                                       |
| <a name="output_ingress"></a> [ingress](#output_ingress)                                                                | Ingress settings applied to the service.                                                                 |
| <a name="output_labels"></a> [labels](#output_labels)                                                                   | Labels applied to the service.                                                                           |
| <a name="output_latest_created_revision_name"></a> [latest_created_revision_name](#output_latest_created_revision_name) | Last revision created.                                                                                   |
| <a name="output_latest_ready_revision_name"></a> [latest_ready_revision_name](#output_latest_ready_revision_name)       | Latest revision ready for use.                                                                           |
| <a name="output_loadbalancer_backend"></a> [loadbalancer_backend](#output_loadbalancer_backend)                         | If loadbalancer_backend_create is set to true this will contain the backend                              |
| <a name="output_location"></a> [location](#output_location)                                                             | Location of the service.                                                                                 |
| <a name="output_map_domains"></a> [map_domains](#output_map_domains)                                                    | Domain names mapped to the service.                                                                      |
| <a name="output_max_instances"></a> [max_instances](#output_max_instances)                                              | Maximum number of container instances allowed to start.                                                  |
| <a name="output_memory"></a> [memory](#output_memory)                                                                   | Memory (in Mi) allocated to container instances.                                                         |
| <a name="output_memory_suffixed"></a> [memory_suffixed](#output_memory_suffixed)                                        | Memory allocated to containers instances, with the relevant suffix (eg: "256Mi" if `var.memory` is 256). |
| <a name="output_min_instances"></a> [min_instances](#output_min_instances)                                              | Minimum number of container instances to keep running.                                                   |
| <a name="output_name"></a> [name](#output_name)                                                                         | Name of the service.                                                                                     |
| <a name="output_port"></a> [port](#output_port)                                                                         | Port on which the container is listening for incoming HTTP requests.                                     |
| <a name="output_project"></a> [project](#output_project)                                                                | Google Cloud project in which resources were created.                                                    |
| <a name="output_revision"></a> [revision](#output_revision)                                                             | Revision name that was created.                                                                          |
| <a name="output_service_account_email"></a> [service_account_email](#output_service_account_email)                      | IAM service account email to assigned to container instances.                                            |
| <a name="output_timeout"></a> [timeout](#output_timeout)                                                                | Maximum duration (in seconds) allowed for responding to requests.                                        |
| <a name="output_url"></a> [url](#output_url)                                                                            | URL at which the service is available.                                                                   |
| <a name="output_volumes"></a> [volumes](#output_volumes)                                                                | Secrets mounted as volumes into the service.                                                             |
| <a name="output_vpc_access"></a> [vpc_access](#output_vpc_access)                                                       | VPC access configuration.                                                                                |
